<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <link rel="shortcut icon" type="image/ico" href="favicon.ico" />
  <title>SlickGrid example: Column Content Sizing</title>
  <link rel="stylesheet" href="../slick.grid.css" type="text/css"/>
  <link rel="stylesheet" href="../css/smoothness/jquery-ui-1.11.3.custom.css" type="text/css"/>
  <link rel="stylesheet" href="../controls/slick.pager.css" type="text/css"/>
  <link rel="stylesheet" href="examples.css" type="text/css"/>
  <style>
    .numericIn {
      width: 30px;
    }
    .spacer {
      width: 20px;
      display: inline-block;
    }
    .label {
      width: 110px;
      display: inline-block;
      margin-right: 10px;
    }       
    .label-3 {
      width: 355px;
      display: inline-block;
      margin-right: 10px;
    }        
    .label-wide {
      width: 160px;
      display: inline-block;
      margin-right: 10px;
    }    
    .spaced-para {
      margin: 8px 0;
    }
    input[type='radio'] {
      vertical-align: text-bottom;
    }
    input[type='checkbox'] {
      margin: 0;
    }
    
#Test {
    position: absolute;
    visibility: hidden;
    height: auto;
    width: auto;
    white-space: nowrap; /* Thanks to Herb Caudill comment */
}    
  </style>  
</head>
<body>
<div style="position:relative">
  <div class="options-panel" style="width:900px; position: relative; left:0;">
    <p>This page demonstrates 500'000 rows with  plugin.</p>
    <h2>Plugin Options:</h2>
    <div style="margin-left: 10px">
      <div class="spaced-para">
        <span class="label-wide">viewportMode</span>
          <input type="radio" id="vmSc" name="ViewportMode" value="SC" checked><label for="vmSc">Scroll</label>
          <span class="spacer"></span>
          <input type="radio" id="vmFV" name="ViewportMode" value="FV"><label for="vmFV">FitColsToViewport</label>
          <span class="spacer"></span>
          <input type="radio" id="vmFC" name="ViewportMode" value="FC"><label for="vmFC">FitViewportToCols</label>
      </div>
      <div class="spaced-para">
         <span class="label-wide">switchToScrollModeWidthPercent</span> <input id="txtSwitchToScrollModeWidthPercent" type="text" class="numericIn" value="120">
      </div>
      <div class="spaced-para">
         <span class="label-wide">minViewportWidthPx</span> <input id="txtMinViewportWidthPx" type="text" class="numericIn" value="600">
      </div>
      <div class="spaced-para">
         <span class="label-wide">maxViewportWidthPx</span> <input id="txtMaxViewportWidthPx" type="text" class="numericIn" value="900">
      </div>
    </div>
    
    <h2>Column Options:</h2>
    <p>'Locked' and 'Guide' use column width. Others will use content. When retrieving content values for a column, the first defined of the following will be used:
    <ul>
      <li>'colValueArray' will be used to provide a list of values</li>
      <li>'formatterOverride' function will be used to retrieve row values</li>
      <li>'formatter' function will be used to retrieve row values</li>
      <li>raw row values</li>
    </ul>
    </p>
    <strong>&nbsp;Column 1 (#)</strong>
    <div style="margin-left: 10px">
      <div class="spaced-para">
        <span class="label">autoWidthStrategy</span>
        <input type="radio" id="col1_awsLK" name="col1_AutoWidthStrategy" value="LK"><label for="col1_awsLK">Locked</label>
        <span class="spacer"></span>
        <input type="radio" id="col1_awsGU" name="col1_AutoWidthStrategy" value="GU"><label for="col1_awsGU">Guide</label>
        <span class="spacer"></span>
        <input type="radio" id="col1_awsTOP1" name="col1_AutoWidthStrategy" value="TOP1"><label for="col1_awsTOP1">Top1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col1_awsTOPN" name="col1_AutoWidthStrategy" value="TOPN"><label for="col1_awsTOPN">TopNRows</label>
        <span class="spacer"></span>
        <input type="radio" id="col1_awsLST1" name="col1_AutoWidthStrategy" value="LST1" checked><label for="col1_awsLST1">Last1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col1_awsALL" name="col1_AutoWidthStrategy" value="ALL"><label for="col1_awsALL">AllRows</label>       
      </div>
      <div class="spaced-para">
         <span class="label">widthPx</span> 
         <div class="label"><input type="text" class="numericIn" value="" id="col1_widthPx"></div>
         <span class="label">minWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col1_minWidthPx"></div>
         <span class="label">maxWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col1_maxWidthPx"></div>
      </div>
      <div class="spaced-para">
        <span class="label">ignoreHeaderText</span>
        <div class="label"><input type="checkbox" id="col1_ignoreHeaderText"></div>
        <span class="label">sizeToRemaining</span>
        <div class="label"><input type="checkbox" id="col1_sizeToRemaining"></div>
        <span class="label">checkRowCount</span>
        <div class="label"><input type="text" class="numericIn" value="100" id="col1_checkRowCount"></div>
      </div>
      <div class="spaced-para">
         <span class="label">colValueArray</span>
         <div class="label-3">
            <input id="col1_colValueArray" type="text" value=""> (input as comma separated list)
         </div>
        <span class="label">deDuplicate</span>
        <div class="label"><input type="checkbox" id="col1_deDuplicate"></div>
      </div>
    </div>
    <br/>
    <strong>&nbsp;Column 2 (Title)</strong>
    <div style="margin-left: 10px">
      <div class="spaced-para">
        <span class="label">autoWidthStrategy</span>
        <input type="radio" id="col2_awsLK" name="col2_AutoWidthStrategy" value="LK"><label for="col2_awsLK">Locked</label>
        <span class="spacer"></span>
        <input type="radio" id="col2_awsGU" name="col2_AutoWidthStrategy" value="GU"><label for="col2_awsGU">Guide</label>
        <span class="spacer"></span>
        <input type="radio" id="col2_awsTOP1" name="col2_AutoWidthStrategy" value="TOP1"><label for="col2_awsTOP1">Top1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col2_awsTOPN" name="col2_AutoWidthStrategy" value="TOPN"><label for="col2_awsTOPN">TopNRows</label>
        <span class="spacer"></span>
        <input type="radio" id="col2_awsLST1" name="col2_AutoWidthStrategy" value="LST1" checked><label for="col2_awsLST1">Last1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col2_awsALL" name="col2_AutoWidthStrategy" value="ALL"><label for="col2_awsALL">AllRows</label>
      </div>
      <div class="spaced-para">
         <span class="label">widthPx</span> 
         <div class="label"><input type="text" class="numericIn" value="" id="col2_widthPx"></div>
         <span class="label">minWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col2_minWidthPx"></div>
         <span class="label">maxWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col2_maxWidthPx"></div>
      </div>
      <div class="spaced-para">
        <span class="label">ignoreHeaderText</span>
        <div class="label"><input type="checkbox" id="col2_ignoreHeaderText"></div>
        <span class="label">sizeToRemaining</span>
        <div class="label"><input type="checkbox" id="col2_sizeToRemaining"></div>
        <span class="label">checkRowCount</span>
        <div class="label"><input type="text" class="numericIn" value="100" id="col2_checkRowCount"></div>
      </div>
      <div class="spaced-para">
         <span class="label">colValueArray</span>
         <div class="label-3">
            <input id="col2_colValueArray" type="text" value=""> (input as comma separated list)
         </div>
        <span class="label">deDuplicate</span>
        <div class="label"><input type="checkbox" id="col2_deDuplicate"></div>
      </div>
    </div>
    <br/>
    <strong>&nbsp;Column 3 (Duration)</strong>
    <div style="margin-left: 10px">
      <div class="spaced-para">
        <span class="label">autoWidthStrategy</span>
        <input type="radio" id="col3_awsLK" name="col3_AutoWidthStrategy" value="LK"><label for="col3_awsLK">Locked</label>
        <span class="spacer"></span>
        <input type="radio" id="col3_awsGU" name="col3_AutoWidthStrategy" value="GU"><label for="col3_awsGU">Guide</label>
        <span class="spacer"></span>
        <input type="radio" id="col3_awsTOP1" name="col3_AutoWidthStrategy" value="TOP1"><label for="col3_awsTOP1">Top1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col3_awsTOPN" name="col3_AutoWidthStrategy" value="TOPN" checked><label for="col3_awsTOPN">TopNRows</label>
        <span class="spacer"></span>
        <input type="radio" id="col3_awsLST1" name="col3_AutoWidthStrategy" value="LST1"><label for="col3_awsLST1">Last1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col3_awsALL" name="col3_AutoWidthStrategy" value="ALL"><label for="col3_awsALL">AllRows</label>
      </div>
      <div class="spaced-para">
         <span class="label">widthPx</span> 
         <div class="label"><input type="text" class="numericIn" value="" id="col3_widthPx"></div>
         <span class="label">minWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col3_minWidthPx"></div>
         <span class="label">maxWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col3_maxWidthPx"></div>
      </div>
      <div class="spaced-para">
        <span class="label">ignoreHeaderText</span>
        <div class="label"><input type="checkbox" id="col3_ignoreHeaderText"></div>
        <span class="label">sizeToRemaining</span>
        <div class="label"><input type="checkbox" id="col3_sizeToRemaining"></div>
        <span class="label">checkRowCount</span>
        <div class="label"><input type="text" class="numericIn" value="100" id="col3_checkRowCount"></div>
      </div>
      <div class="spaced-para">
         <span class="label">colValueArray</span>
         <div class="label-3">
            <input id="col3_colValueArray" type="text" value=""> (input as comma separated list)
         </div>
        <span class="label">deDuplicate</span>
        <div class="label"><input type="checkbox" id="col3_deDuplicate" checked></div>
      </div>
    </div>
    <br/>
    <strong>&nbsp;Column 4 (Random Word)</strong>
    <div style="margin-left: 10px">
      <div class="spaced-para">
        <span class="label">autoWidthStrategy</span>
        <input type="radio" id="col4_awsLK" name="col4_AutoWidthStrategy" value="LK"><label for="col4_awsLK">Locked</label>
        <span class="spacer"></span>
        <input type="radio" id="col4_awsGU" name="col4_AutoWidthStrategy" value="GU"><label for="col4_awsGU">Guide</label>
        <span class="spacer"></span>
        <input type="radio" id="col4_awsTOP1" name="col4_AutoWidthStrategy" value="TOP1"><label for="col4_awsTOP1">Top1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col4_awsTOPN" name="col4_AutoWidthStrategy" value="TOPN"><label for="col4_awsTOPN">TopNRows</label>
        <span class="spacer"></span>
        <input type="radio" id="col4_awsLST1" name="col4_AutoWidthStrategy" value="LST1"><label for="col4_awsLST1">Last1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col4_awsALL" name="col4_AutoWidthStrategy" value="ALL" checked><label for="col4_awsALL">AllRows</label>
      </div>
      <div class="spaced-para">
         <span class="label">widthPx</span> 
         <div class="label"><input type="text" class="numericIn" value="" id="col4_widthPx"></div>
         <span class="label">minWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col4_minWidthPx"></div>
         <span class="label">maxWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col4_maxWidthPx"></div>
      </div>
      <div class="spaced-para">
        <span class="label">ignoreHeaderText</span>
        <div class="label"><input type="checkbox" id="col4_ignoreHeaderText"></div>
        <span class="label">sizeToRemaining</span>
        <div class="label"><input type="checkbox" id="col4_sizeToRemaining"></div>
        <span class="label">checkRowCount</span>
        <div class="label"><input type="text" class="numericIn" value="100" id="col4_checkRowCount"></div>
      </div>
      <div class="spaced-para">
         <span class="label">colValueArray</span>
         <div class="label-3">
            <input id="col4_colValueArray" type="text" value=""> (input as comma separated list)
         </div>
        <span class="label">deDuplicate</span>
        <div class="label"><input type="checkbox" id="col4_deDuplicate" checked></div>
      </div>
    </div>
    <br/>
    <strong>&nbsp;Column 5 (% Complete)</strong>
    <div style="margin-left: 10px">
      <div class="spaced-para">
        <span class="label">autoWidthStrategy</span>
        <input type="radio" id="col5_awsLK" name="col5_AutoWidthStrategy" value="LK"><label for="col5_awsLK">Locked</label>
        <span class="spacer"></span>
        <input type="radio" id="col5_awsGU" name="col5_AutoWidthStrategy" value="GU"><label for="col5_awsGU">Guide</label>
        <span class="spacer"></span>
        <input type="radio" id="col5_awsTOP1" name="col5_AutoWidthStrategy" value="TOP1"><label for="col5_awsTOP1">Top1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col5_awsTOPN" name="col5_AutoWidthStrategy" value="TOPN"><label for="col5_awsTOPN">TopNRows</label>
        <span class="spacer"></span>
        <input type="radio" id="col5_awsLST1" name="col5_AutoWidthStrategy" value="LST1"><label for="col5_awsLST1">Last1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col5_awsALL" name="col5_AutoWidthStrategy" value="ALL" checked><label for="col5_awsALL">AllRows</label>
      </div>
      <div class="spaced-para">
         <span class="label">widthPx</span> 
         <div class="label"><input type="text" class="numericIn" value="" id="col5_widthPx"></div>
         <span class="label">minWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col5_minWidthPx"></div>
         <span class="label">maxWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col5_maxWidthPx"></div>
      </div>
      <div class="spaced-para">
        <span class="label">ignoreHeaderText</span>
        <div class="label"><input type="checkbox" id="col5_ignoreHeaderText"></div>
        <span class="label">sizeToRemaining</span>
        <div class="label"><input type="checkbox" id="col5_sizeToRemaining"></div>
        <span class="label">checkRowCount</span>
        <div class="label"><input type="text" class="numericIn" value="100" id="col5_checkRowCount"></div>
      </div>
      <div class="spaced-para">
         <span class="label">colValueArray</span>
         <div class="label-3">
            <input id="col5_colValueArray" type="text" value="100"> (input as comma separated list)
         </div>
        <span class="label">deDuplicate</span>
        <div class="label"><input type="checkbox" id="col5_deDuplicate"></div>
      </div>
    </div>
    <br/>
    <strong>&nbsp;Column 6 (Start)</strong>
    <div style="margin-left: 10px">
      <div class="spaced-para">
        <span class="label">autoWidthStrategy</span>
        <input type="radio" id="col6_awsLK" name="col6_AutoWidthStrategy" value="LK"><label for="col6_awsLK">Locked</label>
        <span class="spacer"></span>
        <input type="radio" id="col6_awsGU" name="col6_AutoWidthStrategy" value="GU"><label for="col6_awsGU">Guide</label>
        <span class="spacer"></span>
        <input type="radio" id="col6_awsTOP1" name="col6_AutoWidthStrategy" value="TOP1" checked><label for="col6_awsTOP1">Top1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col6_awsTOPN" name="col6_AutoWidthStrategy" value="TOPN"><label for="col6_awsTOPN">TopNRows</label>
        <span class="spacer"></span>
        <input type="radio" id="col6_awsLST1" name="col6_AutoWidthStrategy" value="LST1"><label for="col6_awsLST1">Last1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col6_awsALL" name="col6_AutoWidthStrategy" value="ALL"><label for="col6_awsALL">AllRows</label>
      </div>
      <div class="spaced-para">
         <span class="label">widthPx</span> 
         <div class="label"><input type="text" class="numericIn" value="" id="col6_widthPx"></div>
         <span class="label">minWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col6_minWidthPx"></div>
         <span class="label">maxWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col6_maxWidthPx"></div>
      </div>
      <div class="spaced-para">
        <span class="label">ignoreHeaderText</span>
        <div class="label"><input type="checkbox" id="col6_ignoreHeaderText"></div>
        <span class="label">sizeToRemaining</span>
        <div class="label"><input type="checkbox" id="col6_sizeToRemaining"></div>
        <span class="label">checkRowCount</span>
        <div class="label"><input type="text" class="numericIn" value="100" id="col6_checkRowCount"></div>
      </div>
      <div class="spaced-para">
         <span class="label">colValueArray</span>
         <div class="label-3">
            <input id="col6_colValueArray" type="text" value=""> (input as comma separated list)
         </div>
        <span class="label">deDuplicate</span>
        <div class="label"><input type="checkbox" id="col6_deDuplicate"></div>
      </div>
    </div>
    <strong>&nbsp;Column 7 (Effort Driven)</strong>
    <div style="margin-left: 10px">
      <div class="spaced-para">
        <span class="label">autoWidthStrategy</span>
        <input type="radio" id="col7_awsLK" name="col7_AutoWidthStrategy" value="LK"><label for="col7_awsLK">Locked</label>
        <span class="spacer"></span>
        <input type="radio" id="col7_awsGU" name="col7_AutoWidthStrategy" value="GU"><label for="col7_awsGU">Guide</label>
        <span class="spacer"></span>
        <input type="radio" id="col7_awsTOP1" name="col7_AutoWidthStrategy" value="TOP1"><label for="col7_awsTOP1">Top1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col7_awsTOPN" name="col7_AutoWidthStrategy" value="TOPN"><label for="col7_awsTOPN">TopNRows</label>
        <span class="spacer"></span>
        <input type="radio" id="col7_awsLST1" name="col7_AutoWidthStrategy" value="LST1"><label for="col7_awsLST1">Last1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col7_awsALL" name="col7_AutoWidthStrategy" value="ALL" checked><label for="col7_awsALL">AllRows</label>
      </div>
      <div class="spaced-para">
         <span class="label">widthPx</span> 
         <div class="label"><input type="text" class="numericIn" value="" id="col7_widthPx"></div>
         <span class="label">minWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col7_minWidthPx"></div>
         <span class="label">maxWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col7_maxWidthPx"></div>
      </div>
      <div class="spaced-para">
        <span class="label">ignoreHeaderText</span>
        <div class="label"><input type="checkbox" id="col7_ignoreHeaderText"></div>
        <span class="label">sizeToRemaining</span>
        <div class="label"><input type="checkbox" id="col7_sizeToRemaining"></div>
        <span class="label">checkRowCount</span>
        <div class="label"><input type="text" class="numericIn" value="100" id="col7_checkRowCount"></div>
      </div>
      <div class="spaced-para">
         <span class="label">colValueArray</span>
         <div class="label-3">
            <input id="col7_colValueArray" type="text" value="true"> (input as comma separated list)
         </div>
        <span class="label">deDuplicate</span>
        <div class="label"><input type="checkbox" id="col7_deDuplicate"></div>
      </div>
    </div>
    <strong>&nbsp;Column 8 (Random Text)</strong>
    <div style="margin-left: 10px">
      <div class="spaced-para">
        <span class="label">autoWidthStrategy</span>
        <input type="radio" id="col8_awsLK" name="col8_AutoWidthStrategy" value="LK"><label for="col8_awsLK">Locked</label>
        <span class="spacer"></span>
        <input type="radio" id="col8_awsGU" name="col8_AutoWidthStrategy" value="GU" checked><label for="col8_awsGU">Guide</label>
        <span class="spacer"></span>
        <input type="radio" id="col8_awsTOP1" name="col8_AutoWidthStrategy" value="TOP1"><label for="col8_awsTOP1">Top1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col8_awsTOPN" name="col8_AutoWidthStrategy" value="TOPN"><label for="col8_awsTOPN">TopNRows</label>
        <span class="spacer"></span>
        <input type="radio" id="col8_awsLST1" name="col8_AutoWidthStrategy" value="LST1"><label for="col8_awsLST1">Last1Row</label>
        <span class="spacer"></span>
        <input type="radio" id="col8_awsALL" name="col8_AutoWidthStrategy" value="ALL"><label for="col8_awsALL">AllRows</label>
      </div>
      <div class="spaced-para">
         <span class="label">widthPx</span> 
         <div class="label"><input type="text" class="numericIn" value="200" id="col8_widthPx"></div>
         <span class="label">minWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col8_minWidthPx"></div>
         <span class="label">maxWidthPx</span>
         <div class="label"><input type="text" class="numericIn" value="" id="col8_maxWidthPx"></div>
      </div>
      <div class="spaced-para">
        <span class="label">ignoreHeaderText</span>
        <div class="label"><input type="checkbox" id="col8_ignoreHeaderText"></div>
        <span class="label">sizeToRemaining</span>
        <div class="label"><input type="checkbox" id="col8_sizeToRemaining" checked></div>
        <span class="label">checkRowCount</span>
        <div class="label"><input type="text" class="numericIn" value="100" id="col8_checkRowCount"></div>
      </div>
      <div class="spaced-para">
         <span class="label">colValueArray</span>
         <div class="label-3">
            <input id="col8_colValueArray" type="text" value=""> (input as comma separated list)
         </div>
        <span class="label">deDuplicate</span>
        <div class="label"><input type="checkbox" id="col8_deDuplicate"></div>
      </div>
    </div>
  
  <h2>Test Grid</h2>
    <button onclick="CallResize()">Resize Columns</button> 

    <div>Time taken C =<span id="TimeTakenC">0</div>
    <div>Time taken F =<span id="TimeTakenF">0</div>
    
    <h2>View Source:</h2>
    <ul>
        <li><A href="https://github.com/6pac/SlickGrid/blob/master/examples/example-optimizing-dataview.html" target="_sourcewindow"> View the source for this example on Github</a></li>
    </ul>
  </div>

  <div style="width:900px;">
    <div class="grid-header" style="width:100%">
      <label>SlickGrid</label>
    </div>
    <div id="myGrid" style="width:100%;height:320px;"></div>
  </div>
</div>

<script src="../lib/jquery-1.11.2.min.js"></script>
<script src="../lib/jquery-ui-1.11.3.min.js"></script>
<script src="../lib/jquery.event.drag-2.3.0.js"></script>

<script src="../slick.core.js"></script>
<script src="../slick.formatters.js"></script>
<script src="../slick.grid.js"></script>
<script src="../slick.dataview.js"></script>
<script src="../controls/slick.pager.js"></script>
<script src="../plugins/slick.sizetocontent.js"></script>

<script>
  //------------------------------------------------------------------------------------
  // Get plugin and column properties from page controls
  //------------------------------------------------------------------------------------  
  var sizeToContentPlugin = new Slick.Plugins.SizeToContent();
  
  function GetColProps(column, colIndex) {
    var colValArrayAsCSV = $("#col" + colIndex + "_colValueArray").val();
    var colValArray = undefined;
    if (colValArrayAsCSV) { colValArray = colValArrayAsCSV.split(','); }
    var opts = {
        autoWidthStrategy: $("input[name='col" + colIndex + "_AutoWidthStrategy']:checked").val(), 
        ignoreHeaderText: $("#col" + colIndex + "_ignoreHeaderText").prop('checked') || false,
        colValueArray: colValArray,
        widthPx: $("#col" + colIndex + "_widthPx").val() || undefined,
        minWidthPx: $("#col" + colIndex + "_minWidthPx").val() || undefined,
        maxWidthPx: $("#col" + colIndex + "_maxWidthPx").val() || undefined,
        sizeToRemaining: $("#col" + colIndex + "_sizeToRemaining").prop('checked') || false,
        checkRowCount: parseInt($("#col" + colIndex + "_checkRowCount").val(),10) || 100,
        deDuplicate: $("#col" + colIndex + "_deDuplicate").prop('checked') || false
    };
    column.AutoSize = opts;
  }
 
  function GetPluginPropsI() {
    var opts = {
      viewportMode: $("input[name='ViewportMode']:checked").val(), 
      switchToScrollModeWidthPercent: $("#txtSwitchToScrollModeWidthPercent").val(),
      minViewportWidthPx: $("#txtMinViewportWidthPx").val(),
      maxViewportWidthPx: $("#txtMaxViewportWidthPx").val()
    };     
    sizeToContentPlugin.setOptions(opts);
    
    var columns = grid.getColumns();
    for (var i = 0, ii = columns.length; i < ii; i++) {
      GetColProps(columns[i], i+1);
    }
  }
  
  function CallResize() {
    //GetPluginPropsFromUI();
    
    var t0 = performance.now();
    var colWidthsC = sizeToContentPlugin.getColTextWidths('C');
    var t1 = performance.now();
    $("#TimeTakenC").text((t1 - t0) + " milliseconds.");

    var t0 = performance.now();
    var colWidthsF = sizeToContentPlugin.getColTextWidths('F');
    var t1 = performance.now();
    $("#TimeTakenF").text((t1 - t0) + " milliseconds.");
  }

  //------------------------------------------------------------------------------------
  // Set up grid options, data and columns
  //------------------------------------------------------------------------------------ 
  
  var dataView;
  var grid;
  var data = [];
  var columns = [
    {id: "sel", name: "#", field: "num", behavior: "select", cssClass: "cell-selection", width: 40, resizable: false, selectable: false },
    {id: "title", name: "Title", field: "title", width: 120, minWidth: 120, cssClass: "cell-title"},
    {id: "duration", name: "Duration", field: "duration"},
    {id: "random-word", name: "Random word", field: "randomWord"},
    {id: "%", name: "% Complete", field: "percentComplete", width: 80, resizable: false, formatter: Slick.Formatters.PercentCompleteBar},
    {id: "start", name: "Start", field: "start", minWidth: 60},
    {id: "effort-driven", name: "Effort Driven", width: 80, minWidth: 20, maxWidth: 80, cssClass: "cell-effort-driven", field: "effortDriven", formatter: Slick.Formatters.Checkmark},
    {id: "random-text", name: "Random Text", field: "randomText"}
  ];

  function CreateRandomText(words) {
    var amount = Math.round(Math.random() * 10)
    var result = "";
    for(var i = 0; i < amount; i++){
      result += " " + words[Math.round(Math.random() * words.length)];
    }
    return result;
  };  
    
  function DataItem(i) {
    this.num = i;
    this.id = "id_" + i;
    this.title = "Task " + i;
    this.duration =  (i % 5 == 0) ? 5 + " days and some" : 10 + " days";
    this.randomWord = ["good", "bad", "dog", "something", "another word"][i % 5];
    this.percentComplete = Math.round(Math.random() * 100);
    this.start = "01/01/200" + Math.round(Math.random() * 9);
    this.effortDriven = (i % 5 == 0);
    this.randomText = CreateRandomText(["good", "bad", "dog", "vegetable", "Crimea", "platypus", "rumplestiltskin", "alteration"]);
  }

  var options = {
    enableCellNavigation: true,
    enableColumnReorder: true,
    enableAddRow: false,
    enableCellNavigation: true,
    explicitInitialization: true
  };
      
  $(function () {
    var rows = 500;
    // prepare the data
    for (var i = 0; i < rows; i++) {
      data[i] = new DataItem(i);
    }

    dataView = new Slick.Data.DataView();
    grid = new Slick.Grid("#myGrid", dataView, columns, options);
    grid.registerPlugin(sizeToContentPlugin);
    var headerWidths = sizeToContentPlugin.getColHeaderWidths();
    grid.init();
    var headerWidths1 = sizeToContentPlugin.getColHeaderWidths();
   
    // wire up model events to drive the grid
    dataView.onRowsOrCountChanged.subscribe(function (e, args) {     
      if (args.rowCountChanged) { grid.updateRowCount(); }
      if (args.rowsChanged) { grid.invalidateRows(args.rows); }
      grid.render();
    });

    // initialize the model after all the events have been hooked up
    dataView.setItems(data);
    
    grid.autosizeColumns();
  })
</script>
</body>
</html>